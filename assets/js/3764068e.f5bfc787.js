"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2052],{1184:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>d});var i=o(6540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}},3367:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Development","title":"Development","description":"The build scripts are designed to run on unix platform (linux, mac, bsd, etc), if you on windows, try to install cygwin.","source":"@site/../../docs/Development.md","sourceDirName":".","slug":"/Development","permalink":"/docs/Development","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"CustomTranslator","permalink":"/docs/CustomTranslator"},"next":{"title":"Introduction","permalink":"/docs/"}}');var r=o(4848),s=o(1184);const t={},d="Build from sources",l={},c=[];function a(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The build scripts are designed to run on unix platform (linux, mac, bsd, etc), if you on windows, try to install ",(0,r.jsx)(n.a,{href:"https://www.cygwin.com/",children:"cygwin"}),"."]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"build-from-sources",children:"Build from sources"})}),"\n",(0,r.jsx)(n.p,{children:"Prerequisites:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"UNIX-like OS"}),"\n",(0,r.jsx)(n.li,{children:"Installed make"}),"\n",(0,r.jsx)(n.li,{children:"Installed docker"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Instructions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create ",(0,r.jsx)(n.code,{children:".env"})," file. You may copy file ",(0,r.jsx)(n.code,{children:".env.config"})," and configure it with your options"]}),"\n",(0,r.jsxs)(n.li,{children:["To build all code, create packages, and check it with linter just run ",(0,r.jsx)(n.code,{children:"make build"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If you build from a platform other than amd64, you may have problems with build a third party code. To resolve a problem, you have to build code in environment that are compatible with amd64. You may ",(0,r.jsx)(n.a,{href:"https://stackoverflow.com/questions/65612411/forcing-docker-to-use-linux-amd64-platform-by-default-on-macos",children:"enable emulation"}),", if you use docker - set variable ",(0,r.jsx)(n.code,{children:"export DOCKER_DEFAULT_PLATFORM=linux/amd64"})," or provide option ",(0,r.jsx)(n.code,{children:"platform: linux/amd64"})," to a ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," file"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["To make build only for specific platform, you may run ",(0,r.jsx)(n.code,{children:"make"})," with specific target like ",(0,r.jsx)(n.code,{children:"buildFirefox"}),", ",(0,r.jsx)(n.code,{children:"buildChromium"}),", etc (see ",(0,r.jsx)(n.code,{children:"makefile"})," for details)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You must build a third party code with ",(0,r.jsx)(n.code,{children:"make buildThirdparty"})," before run specific target. Example: ",(0,r.jsx)(n.code,{children:"make prepare buildThirdparty buildFirefox"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Artifacts is placed in ",(0,r.jsx)(n.code,{children:"build"})," directory"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Available platforms:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"firefox"}),"\n",(0,r.jsx)(n.li,{children:"chrome"}),"\n",(0,r.jsx)(n.li,{children:"chromium: special build with auto updates not from google store"}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"development",children:"Development"}),"\n",(0,r.jsxs)(n.p,{children:["You may run development mode with ",(0,r.jsx)(n.code,{children:"make dev"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If you change a theme tokens, you also have to compile a theme files: ",(0,r.jsx)(n.code,{children:"npm run build:tokens"})]}),"\n",(0,r.jsxs)(n.p,{children:["To debug on android, ",(0,r.jsx)(n.a,{href:"/docs/AndroidDebug",children:"see instructions"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["To make a custom translator, see ",(0,r.jsx)(n.a,{href:"/docs/CustomTranslator",children:"translator API"}),"."]}),"\n",(0,r.jsx)(n.h1,{id:"tests",children:"Tests"}),"\n",(0,r.jsxs)(n.p,{children:["When you change code that touch any user data and interact with browser storages (",(0,r.jsx)(n.code,{children:"localStorage"}),", ",(0,r.jsx)(n.code,{children:"indexedDB"}),", ",(0,r.jsx)(n.code,{children:"browser.storage"}),", etc) or some external API, you must to add or update tests for it."]}),"\n",(0,r.jsx)(n.p,{children:"The common rule is any code that just transform data should be tested."}),"\n",(0,r.jsx)(n.p,{children:"You may a not add tests for UI, but should add tests for data."}),"\n",(0,r.jsx)(n.h1,{id:"migrations",children:"Migrations"}),"\n",(0,r.jsx)(n.p,{children:"Migrations must have app version."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);