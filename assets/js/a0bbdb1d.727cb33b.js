"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[5165],{1184:(t,n,e)=>{e.d(n,{R:()=>o,x:()=>l});var s=e(6540);const a={},r=s.createContext(a);function o(t){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof t?t(n):{...n,...t}},[n,t])}function l(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:o(t.components),s.createElement(r.Provider,{value:n},t.children)}},4186:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"CustomTranslator","title":"CustomTranslator","description":"With custom translator you may use Linguist with your favorite translation service if you not enough an embedded translators.","source":"@site/../../docs/CustomTranslator.md","sourceDirName":".","slug":"/CustomTranslator","permalink":"/docs/CustomTranslator","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"CustomTTS","permalink":"/docs/CustomTTS"},"next":{"title":"Development","permalink":"/docs/Development"}}');var a=e(4848),r=e(1184);const o={},l=void 0,i={},u=[{value:"Custom translators list",id:"custom-translators-list",level:2},{value:"Translator API",id:"translator-api",level:2},{value:"Translator class signature",id:"translator-class-signature",level:3},{value:"Example",id:"example",level:2}];function c(t){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"With custom translator you may use Linguist with your favorite translation service if you not enough an embedded translators."}),"\n",(0,a.jsx)(n.p,{children:"All you need to do it"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'Go to Linguist settings in a section "Custom translators"'}),"\n",(0,a.jsx)(n.li,{children:'Press button "Manage translators"'}),"\n",(0,a.jsx)(n.li,{children:'Press "Add"'}),"\n",(0,a.jsx)(n.li,{children:"Input translator name and insert module code"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"custom-translators-list",children:"Custom translators list"}),"\n",(0,a.jsxs)(n.p,{children:["You can find a custom translators in a ",(0,a.jsx)(n.a,{href:"https://github.com/translate-tools/linguist-translators",children:"custom translators list"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Read ",(0,a.jsx)(n.a,{href:"/docs/manuals/OfflineTranslation",children:"Offline translation manual"})," to get known how to setup offline translation with Linguist."]}),"\n",(0,a.jsx)(n.h2,{id:"translator-api",children:"Translator API"}),"\n",(0,a.jsx)(n.p,{children:"Code must have a translator class and this object must be the last object in the code."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"class MyTranslator {\n\t// ...\n}\n\n// some other code may be after declaration\nconsole.log('Hello world');\n\n// last object in the code must be a translator\nMyTranslator;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"translator-class-signature",children:"Translator class signature"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"class Translator {\n\t/**\n\t * REQUIRED\n\t *\n\t * Method to translate single text\n\t*/\n\tpublic translate(text: string, from: string, to: string) => Promise<string>;\n\n\t/**\n\t * REQUIRED\n\t *\n\t * Method to translate multiple texts\n\t*/\n\tpublic translateBatch(text: string[], from: string, to: string) => Promise<string>;\n\n\t/**\n\t * REQUIRED\n\t *\n\t * return maximal length of string for translating\n\t*/\n\tpublic getLengthLimit() => number;\n\n\t/**\n\t * REQUIRED\n\t *\n\t * return minimal timeout between requests\n\t*/\n\tpublic getRequestsTimeout() => number;\n\n\t/**\n\t * REQUIRED\n\t *\n\t * return number of extra chars for text over limit\n\t*/\n\tpublic checkLimitExceeding(text: string | string[]): number;\n\n\t/**\n\t * REQUIRED\n\t *\n\t * is translator support value 'auto' as text language\n\t*/\n\tstatic isSupportedAutoFrom(): boolean;\n\t/**\n\t * REQUIRED\n\t *\n\t * return array of supported languages as ISO 639-1 codes\n\t*/\n\tstatic getSupportedLanguages(): langCode[];\n\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.p,{children:"Example of a dummy translator. In your code, feel free to use HTTP requests to any urls."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"class FakeTranslator {\n\ttranslate = (text, from, to) =>\n\t\tPromise.resolve(`FakeTranslator[\"${text}\"-${from}-${to}]`);\n\ttranslateBatch = (texts, from, to) =>\n\t\tPromise.all(texts.map((text) => this.translate(text, from, to)));\n\n\tgetLengthLimit = () => 4000;\n\tgetRequestsTimeout = () => 300;\n\tcheckLimitExceeding = () => -10000;\n\n\tstatic isSupportedAutoFrom = () => true;\n\tstatic getSupportedLanguages = () => ['en', 'ru', 'ja', 'de'];\n}\n\nFakeTranslator;\n"})})]})}function d(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,a.jsx)(n,{...t,children:(0,a.jsx)(c,{...t})}):c(t)}}}]);